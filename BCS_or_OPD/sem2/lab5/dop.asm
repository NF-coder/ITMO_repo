ORG 0x010

INP: 	IN 0x1D
		AND #0x40
		BEQ INP
		IN 0x1C
		;SUB 0xF0 ; коррекция на кодировку
		ST (SP+1)
		RET

START:	PUSH
		CALL INP
		POP

		BEQ OUTE
		CMP #0x07
		BPL OUTE

		ST BIAS
		JUMP OUTL

; ERROR HANDLING BLOCK
OUTE_:	LD (E2)+
		OUT 0x10
		JUMP OUTEL
OUTE: 	LD E1
		ST E2
		LD #0x09
		ST ITERS
OUTEL:	LOOP $ITERS
		JUMP OUTE_
		JUMP START

; MAIN BLOCK
OUT_:   LD (A2)+
		OUT 0x10
		JUMP OUTL2

BIAS_:	ADD #0x08
		JUMP BIASL

OUTL:	LD #0x09
		ST ITERS

		LD A1
BIASL:	LOOP $BIAS
		JUMP BIAS_
		ST A2

		LD $ITERS
OUTL2:  LOOP $ITERS
		JUMP OUT_
		JUMP START


ITERS: WORD 0x0000
BIAS: WORD 0x0000
A1: WORD $C
A2: WORD 0x0000
E1: WORD $E
E2: WORD 0x0000
C: WORD  0x00FF, 0x0081, 0x0081, 0x0099, 0x0099, 0x0081, 0x0081, 0x00FF,   0x00FF, 0x0081, 0x008D, 0x0081, 0x0081, 0x00B1, 0x0081, 0x00FF,   0x00FF, 0x0081, 0x008D, 0x00A1, 0x00A1, 0x008D, 0x0081, 0x00FF,   0x00FF, 0x0081, 0x00A5, 0x0081, 0x0081, 0x00A5, 0x0081, 0x00FF,    0x00FF, 0x0081, 0x00A5, 0x0099, 0x0099, 0x00A5, 0x0081, 0x00FF,   0x00FF, 0x0081, 0x00AB, 0x0081, 0x0081, 0x00D5, 0x0081, 0x00FF;;,   0x0000, 0x00FF, 0x00FF, 0x0099, 0x0099, 0x0099, 0x0099, 0x0000
E: WORD 0x0000, 0x00FF, 0x00FF, 0x0099, 0x0099, 0x0099, 0x0099, 0x0000
;11111111
;1      1
;1      1
;1  11  1
;1  11  1
;1      1
;1      1
;11111111

;11111111
;1      1
;1    1 1
;1    1 1
;1 1    1
;1 1    1
;1      1
;11111111

;11111111
;1      1
;1  11  1
;1      1
;1 1  1 1
;1 1  1 1
;1      1
;11111111

;11111111
;1      1
;1 1  1 1
;1      1
;1      1
;1 1  1 1
;1      1
;11111111

;11111111
;1      1
;1 1  1 1
;1  11  1
;1  11  1
;1 1  1 1
;1      1
;11111111

;11111111
;1    1 1
;1 1    1
;1    1 1
;1 1    1
;1    1 1
;1 1    1
;11111111

; 111111
; 11
; 11     
; 111111
; 111111
; 11     
; 11    
; 111111